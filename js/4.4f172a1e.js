"use strict";(self["webpackChunkpokedex"]=self["webpackChunkpokedex"]||[]).push([[4],{7004:function(e,t,s){s.r(t),s.d(t,{default:function(){return Ce}});var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-view"},[t("ErrorBoundary",{attrs:{componentName:"PokemonSearch",errorMessage:"Unable to load search"}},[t("PokemonSearch")],1)],1)},a=[],n=s(1435),l=function(){var e=this,t=e._self._c;return t("BaseLoader",{attrs:{coverPage:!0,loading:!e.storeHasLoaded}},[t("div",{staticClass:"pokemon-search"},[t("div",{staticClass:"controls"},[t("BaseInput",{staticClass:"search-input",attrs:{name:"search",placeholder:e.$t("search.placeholder"),icon:"fa-solid fa-magnifying-glass",model:e.searchTerm,reset:e.reset},on:{inputValueChanged:e.setSearchTerm}}),t("div",{staticClass:"buttons"},[t("BaseButton",{staticClass:"button",attrs:{onClickHandler:e.toggleDisplayTypes,variant:!e.displayTypes,small:!0}},[e._v(" "+e._s(e.$t("search.displayTypes",{displayTypes:e.displayTypes}))+" ")]),t("BaseButton",{staticClass:"button",attrs:{onClickHandler:e.toggleDisplayColors,variant:!e.displayColors,small:!0}},[e._v(" "+e._s(e.$t("search.displayColors",{displayColors:e.displayColors}))+" ")]),t("BaseButton",{staticClass:"button",attrs:{onClickHandler:e.toggleDisplayShapes,variant:!e.displayShapes,small:!0}},[e._v(" "+e._s(e.$t("search.displayShapes",{displayShapes:e.displayShapes}))+" ")]),t("BaseButton",{staticClass:"button",attrs:{onClickHandler:e.toggleDisplayGenerations,variant:!e.displayGenerations,small:!0}},[e._v(" "+e._s(e.$t("search.displayGenerations",{displayGenerations:e.displayGenerations}))+" ")]),t("BaseButton",{staticClass:"button clear-search",attrs:{onClickHandler:e.clearSearch,small:!0}},[e._v(" "+e._s(e.$t("search.clearSearch"))+" ")])],1)],1),t("transition",{attrs:{name:"slide-from-above",mode:"out-in"}},[t(e.component,{tag:"component"})],1),t("transition",{attrs:{name:"slide-from-above",mode:"out-in"}},[e.noResultsWereFound?t("span",{staticClass:"no-results"},[e._v(" "+e._s(e.$t("search.noResultsFound"))+" ")]):e._e()]),t("transition",{attrs:{name:"slide-from-above",appear:""}},[e.shouldDisplayRecentSearches?t("div",{staticClass:"recent-searches"},[t("span",{staticClass:"recent-searches-title"},[e._v(e._s(e.$t("search.recentSearches")))]),e._l(e.recentSearches,(function(s){return t("div",{key:`recent-search-${s}`},[t("PokemonSearchItem",{attrs:{name:s,isDarkModeEnabled:e.isDarkModeEnabled}})],1)})),t("FontAwesomeIcon",{staticClass:"trash-can",attrs:{icon:"fa-regular fa-trash-can",size:"2x",color:e.isDarkModeEnabled?"white":"black"},on:{click:e.clearRecentSearchesFromLS}})],2):e._e()]),t("BaseLoader",{attrs:{loading:e.loading}},[t("transition-group",{staticClass:"results",attrs:{name:"slide-from-right"}},e._l(e.searchResults,(function(s){return t("div",{key:s},[t("PokemonSearchItem",{attrs:{name:s,isDarkModeEnabled:e.isDarkModeEnabled}})],1)})),0)],1),t("div",{staticClass:"go-back"},[t("BaseButton",{attrs:{onClickHandler:e.goBack,big:!0}},[e._v(e._s(e.$t("search.goBackButton")))])],1)],1)])},i=[],o=(s(7658),s(241)),c=s(1124),h=s(5204),p=function(){var e=this,t=e._self._c;return t("PokemonSearchFilters",{attrs:{allFilters:e.allTypes,filteringFilters:e.filteringTypes,toggleFilter:e.toggleTypeFilter}})},u=[],m=function(e,t){return e("div",{staticClass:"pokemon-search-filters"},t._l(t.props.allFilters,(function(s){return e("div",{key:`filter-${s}`,staticClass:"filter",class:{active:"string"===typeof t.props.filteringFilters?t.props.filteringFilters===s:t.props.filteringFilters.includes(s),inactive:"string"===typeof t.props.filteringFilters?t.props.filteringFilters!==s:!t.props.filteringFilters.includes(s)},on:{click:function(e){return t.props.toggleFilter(s)}}},[t._v(" "+t._s(s)+" ")])})),0)},g=[],d={name:"PokemonSearchFilters",props:{allFilters:{type:Array,required:!0},filteringFilters:{type:[Array,String],required:!0},toggleFilter:{type:Function,required:!0}}},f=d,y=s(1001),S=(0,y.Z)(f,m,g,!0,null,"8e68f5b0",null),k=S.exports,C=s(6405),T=s(2061),F={name:"PokemonSearchTypes",components:{PokemonSearchFilters:k},computed:{allTypes(){return C.Z.state.all},filteringTypes(){return C.Z.state.filters}},methods:{toggleTypeFilter(e){(0,T.cT)(e)}}},v=F,P=(0,y.Z)(v,p,u,!1,null,null,null),_=P.exports,b=function(){var e=this,t=e._self._c;return t("PokemonSearchFilters",{attrs:{allFilters:e.allColors,filteringFilters:e.filteringColor,toggleFilter:e.toggleColorFilter}})},Z=[],B=s(8062),D=s(7841),G={name:"PokemonSearchColors",components:{PokemonSearchFilters:k},computed:{allColors(){return B.Z.state.all},filteringColor(){return B.Z.state.filter}},methods:{toggleColorFilter(e){(0,D.cT)(e)}}},R=G,K=(0,y.Z)(R,b,Z,!1,null,null,null),$=K.exports,I=function(){var e=this,t=e._self._c;return t("PokemonSearchFilters",{attrs:{allFilters:e.allShapes,filteringFilters:e.filteringShape,toggleFilter:e.toggleShapeFilter}})},M=[],w=s(95),x=s(3354),E={name:"PokemonSearchShapes",components:{PokemonSearchFilters:k},computed:{allShapes(){return w.Z.state.all},filteringShape(){return w.Z.state.filter}},methods:{toggleShapeFilter(e){(0,x.cT)(e)}}},H=E,L=(0,y.Z)(H,I,M,!1,null,null,null),V=L.exports,q=function(){var e=this,t=e._self._c;return t("PokemonSearchFilters",{attrs:{allFilters:e.allGenerations,filteringFilters:e.filteringGeneration,toggleFilter:e.toggleGenerationFilter}})},A=[],j=s(3312),N=s(4210),Q={name:"PokemonSearchGenerations",components:{PokemonSearchFilters:k},computed:{allGenerations(){return N.Z.state.all},filteringGeneration(){return N.Z.state.filter}},methods:{toggleGenerationFilter(e){(0,j.cT)(e)}}},U=Q,W=(0,y.Z)(U,q,A,!1,null,null,null),z=W.exports,J=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pokemon-search-item",on:{click:e.goToPokemonPage}},[t("span",{staticClass:"search-result"},[e._v(" "+e._s(e.name.replace("-"," "))+" ")]),t("FontAwesomeIcon",{staticClass:"icon",attrs:{icon:"fa-solid fa-chevron-right",color:e.isDarkModeEnabled?"white":"black"}})],1)},O=[],X=s(4225),Y=s(8632),ee={name:"PokemonSearchItem",props:{name:{type:String,required:!0},isDarkModeEnabled:{type:Boolean,required:!0}},methods:{async goToPokemonPage(){(0,X.AZ)(this.name),await(0,Y.p8)(this.name)?this.$router.push({name:"pokemon",params:{id:this.name.split("-")[0]},query:{variantName:this.name.replace(`${this.name.split("-")[0]}-`,"")}}):this.$router.push({name:"pokemon",params:{id:this.name}})}}},te=ee,se=(0,y.Z)(te,J,O,!1,null,"c73fa56e",null),re=se.exports,ae=s(9230),ne=s(538);const le=ne.ZP.observable({results:[],isSearching:!1});var ie={get state(){return le},setResults(e){le.results=e},getIsSearching(){return le.isSearching},setIsSearching(e){le.isSearching=e}},oe=s(3514);function ce(e){if(ie.getIsSearching())return;ie.setIsSearching(!0);const t=e.toLowerCase();if((0,T.nU)())ie.setResults((0,T.TJ)(t));else if((0,D.jQ)())ie.setResults((0,D.nM)(t));else if((0,x.jQ)())ie.setResults((0,x.Nb)(t));else if((0,j.jQ)())ie.setResults((0,j.Io)(t));else{const e=(0,oe.O)().filter((e=>e.name.includes(t)));ie.setResults(e.map((e=>e.name)))}ie.setIsSearching(!1)}function he(){ie.setResults([])}function pe(){(0,T.K5)(),(0,D.K5)(),(0,x.K5)(),(0,j.K5)()}var ue=s(9997),me={name:"PokemonSearch",components:{BaseLoader:o.Z,BaseButton:c.Z,BaseInput:h.Z,PokemonSearchTypes:_,PokemonSearchColors:$,PokemonSearchShapes:V,PokemonSearchGenerations:z,PokemonSearchItem:re},data(){return{component:null,searchTerm:"",displayTypes:!1,displayColors:!1,displayShapes:!1,displayGenerations:!1,reset:!1,recentSearches:(0,X.KM)()??[]}},async created(){this.storeHasLoaded||await(0,ae.M)()},beforeDestroy(){this.clearSearch()},watch:{async searchTerm(e){this.shouldClearSearchResults?he():ce(e)},async filteringTypes(e){e.length||this.searchTerm?ce(this.searchTerm):he()},async filteringColor(e){e.length||this.searchTerm?ce(this.searchTerm):he()},async filteringShape(e){e.length||this.searchTerm?ce(this.searchTerm):he()},async filteringGeneration(e){e.length||this.searchTerm?ce(this.searchTerm):he()}},computed:{noResultsWereFound(){return(this.searchTerm.length>=3||this.searchTerm.length<3&&(this.filteringTypes.length||this.filteringColor.length||this.filteringShape.length||this.filteringGeneration.length))&&!this.searchResults.length},shouldDisplayRecentSearches(){return!this.searchResults.length&&0===this.searchTerm.length&&0===this.filteringTypes.length&&!this.filteringColor&&!this.filteringShape&&!this.filteringGeneration&&this.recentSearches.length},shouldClearSearchResults(){return this.searchTerm.length<3&&!this.filteringTypes.length&&!this.filteringColor.length&&!this.filteringShape.length&&!this.filteringGeneration.length},storeHasLoaded(){return ue.Z.state.storeHasLoaded},searchResults(){return ie.state.results},filteringTypes(){return C.Z.state.filters},filteringColor(){return B.Z.state.filter},filteringShape(){return w.Z.state.filter},filteringGeneration(){return N.Z.state.filter},loading(){return ie.state.isSearching},isDarkModeEnabled(){return ue.Z.state.isDarkModeEnabled}},methods:{goBack(){this.$router.push({name:"home"})},setSearchTerm(e){this.reset=!1,this.searchTerm=e},toggleDisplayTypes(){this.clearDisplayVariables(),"PokemonSearchTypes"!==this.component?(this.component="PokemonSearchTypes",this.displayTypes=!0,(0,D.K5)(),(0,x.K5)(),(0,j.K5)()):this.component=null},toggleDisplayColors(){this.clearDisplayVariables(),"PokemonSearchColors"!==this.component?(this.component="PokemonSearchColors",this.displayColors=!0,(0,T.K5)(),(0,x.K5)(),(0,j.K5)()):this.component=null},toggleDisplayShapes(){this.clearDisplayVariables(),"PokemonSearchShapes"!==this.component?(this.component="PokemonSearchShapes",this.displayShapes=!0,(0,T.K5)(),(0,D.K5)(),(0,j.K5)()):this.component=null},toggleDisplayGenerations(){this.clearDisplayVariables(),"PokemonSearchGenerations"!==this.component?(this.component="PokemonSearchGenerations",this.displayGenerations=!0,(0,T.K5)(),(0,D.K5)(),(0,x.K5)()):this.component=null},clearSearch(){this.reset=!0,he(),pe(),this.component=null,this.clearDisplayVariables()},clearDisplayVariables(){this.displayTypes=!1,this.displayColors=!1,this.displayShapes=!1,this.displayGenerations=!1},clearRecentSearchesFromLS(){(0,X.lU)(),this.recentSearches=[]}}},ge=me,de=(0,y.Z)(ge,l,i,!1,null,"4dbb601e",null),fe=de.exports,ye={name:"SearchView",title:"Search for Pokemons",components:{ErrorBoundary:n.Z,PokemonSearch:fe}},Se=ye,ke=(0,y.Z)(Se,r,a,!1,null,"533e7ad5",null),Ce=ke.exports}}]);
//# sourceMappingURL=4.4f172a1e.js.map