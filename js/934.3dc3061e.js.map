{"version":3,"file":"js/934.3dc3061e.js","mappings":"0JAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,aAAa,CAACG,MAAM,CAAC,OAAQ,EAAK,QAAUL,EAAIM,YAAcN,EAAIO,UAAU,CAACL,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,KAAK,CAACF,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,qBAAqBR,EAAG,OAAO,CAACF,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,2BAA2BR,EAAG,aAAa,CAACG,MAAM,CAAC,KAAM,EAAK,SAAU,EAAK,eAAiBL,EAAIW,UAAU,CAACX,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIU,GAAG,sBAAsBR,EAAG,MAAM,CAACG,MAAM,CAAC,IAAMO,EAAQ,MAA0C,IAAM,gBAAgB,MAAM,EAC5iB,EACIC,EAAkB,G,uCCkBtB,GACAC,KAAA,cACAC,MAAA,UACAC,WAAA,CAAAC,WAAA,IAAAC,WAAAA,EAAAA,GACAC,IAAAA,GACA,OACAC,sBAAA,KACAd,YAAA,EACAC,SAAA,EAEA,EACA,aAAAc,GAGA,GAFAC,OAAAC,iBAAA,2BAAAC,qBACAF,OAAAC,iBAAA,oBAAAE,oBACAC,EAAAA,EAAAA,MAAA,CACA,MAAAC,EAAA,CAAAb,KAAA,aACA,KAAAc,QAAAC,OAAAC,WACAH,EAAAE,MAAA,KAAAD,OAAAC,OAEA,KAAAE,QAAAC,KAAAL,EACA,CACA,EACAM,aAAAA,GACAX,OAAAY,oBAAA,2BAAAV,qBACAF,OAAAY,oBAAA,oBAAAT,aACA,EACAU,QAAA,CACA,aAAAxB,GACA,KAAAL,YAAA,QACA,KAAAc,sBAAAgB,SACA,cAAAC,SAAA,KAAAjB,sBAAAkB,WACA,cAAAD,IACA,KAAA/B,YAAA,EAEA,EACAkB,mBAAAA,CAAAe,GACAA,EAAAC,iBACA,KAAApB,sBAAAmB,EACA,KAAAhC,SAAA,CACA,EACAkB,YAAAA,GACA,KAAAM,QAAAC,KAAA,CAAAlB,KAAA,YACA,IC9D2P,I,UCQvP2B,GAAY,OACd,EACA1C,EACAc,GACA,EACA,KACA,WACA,MAIF,EAAe4B,EAAiB,O","sources":["webpack://pokedex/./src/views/InstallView.vue","webpack://pokedex/src/views/InstallView.vue","webpack://pokedex/./src/views/InstallView.vue?3207","webpack://pokedex/./src/views/InstallView.vue?47e0"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"install-view\"},[_c('BaseLoader',{attrs:{\"cover\":true,\"loading\":_vm.installing || _vm.loading}},[_c('div',{staticClass:\"content\"},[_c('h1',[_vm._v(_vm._s(_vm.$t('install.title')))]),_c('span',[_vm._v(_vm._s(_vm.$t('install.description')))]),_c('BaseButton',{attrs:{\"big\":true,\"variant\":true,\"onClickHandler\":_vm.install}},[_vm._v(_vm._s(_vm.$t('install.button')))]),_c('img',{attrs:{\"src\":require(\"@/assets/images/pokemons/silouette.png\"),\"alt\":\"silouette\"}})],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"install-view\">\n    <BaseLoader :cover=\"true\" :loading=\"installing || loading\">\n      <div class=\"content\">\n        <h1>{{ $t('install.title') }}</h1>\n        <span>{{ $t('install.description') }}</span>\n        <BaseButton :big=\"true\" :variant=\"true\" :onClickHandler=\"install\">{{\n          $t('install.button')\n        }}</BaseButton>\n        <img src=\"@/assets/images/pokemons/silouette.png\" alt=\"silouette\" />\n      </div>\n    </BaseLoader>\n  </div>\n</template>\n\n<script>\nimport BaseButton from '@/components/ui/BaseButton.vue';\nimport BaseLoader from '@/components/ui/BaseLoader.vue';\nimport { isInstalled } from '@/lib/helpers';\n\nexport default {\n  name: 'InstallView',\n  title: 'Install',\n  components: { BaseButton, BaseLoader },\n  data() {\n    return {\n      deferredInstallPrompt: null,\n      installing: false,\n      loading: true,\n    };\n  },\n  async created() {\n    window.addEventListener('beforeinstallprompt', this.beforeInstallPrompt);\n    window.addEventListener('appinstalled', this.appInstalled);\n    if (await isInstalled()) {\n      const route = { name: 'launchApp' };\n      if (this.$route?.query?.redirect) {\n        route.query = this.$route.query;\n      }\n      this.$router.push(route);\n    }\n  },\n  beforeDestroy() {\n    window.removeEventListener('beforeinstallprompt', this.beforeInstallPrompt);\n    window.removeEventListener('appinstalled', this.appInstalled);\n  },\n  methods: {\n    async install() {\n      this.installing = true;\n      await this.deferredInstallPrompt.prompt();\n      const { outcome } = await this.deferredInstallPrompt.userChoice;\n      if (outcome === 'dismissed') {\n        this.installing = false;\n      }\n    },\n    beforeInstallPrompt(event) {\n      event.preventDefault();\n      this.deferredInstallPrompt = event;\n      this.loading = false;\n    },\n    appInstalled() {\n      this.$router.push({ name: 'download' });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.install-view {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  .content {\n    height: 100%;\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n\n    h1 {\n      font-size: 3rem;\n\n      @media (min-width: $min-width-first-break) {\n        font-size: 4rem;\n      }\n    }\n\n    span {\n      text-align: center;\n      font-family: 'Kanit';\n      margin-bottom: 1rem;\n      width: 90%;\n\n      @media (min-width: $min-width-third-break) {\n        margin-bottom: 2rem;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./InstallView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./InstallView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InstallView.vue?vue&type=template&id=eebca598&scoped=true&\"\nimport script from \"./InstallView.vue?vue&type=script&lang=js&\"\nexport * from \"./InstallView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InstallView.vue?vue&type=style&index=0&id=eebca598&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eebca598\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","installing","loading","_v","_s","$t","install","require","staticRenderFns","name","title","components","BaseButton","BaseLoader","data","deferredInstallPrompt","created","window","addEventListener","beforeInstallPrompt","appInstalled","isInstalled","route","$route","query","redirect","$router","push","beforeDestroy","removeEventListener","methods","prompt","outcome","userChoice","event","preventDefault","component"],"sourceRoot":""}